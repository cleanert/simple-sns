{"ast":null,"code":"import _toConsumableArray from\"C:/my/Spring/SNS/front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/my/Spring/SNS/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/my/Spring/SNS/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n=========================================================\r\n* Material Dashboard 2 React - v2.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2022 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/import*as React from'react';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useNavigate}from'react-router';// @mui material components\nimport Grid from'@mui/material/Grid';import Card from'@mui/material/Card';import KeyboardArrowLeftIcon from'@mui/icons-material/KeyboardArrowLeft';import KeyboardArrowRightIcon from'@mui/icons-material/KeyboardArrowRight';// Material Dashboard 2 React components\nimport MDBox from'components/MDBox';import MDTypography from'components/MDTypography';import MDInput from'components/MDInput';import MDButton from'components/MDButton';import MDPagination from'components/MDPagination';// Material Dashboard 2 React example components\nimport DashboardLayout from'examples/LayoutContainers/DashboardLayout';import DashboardNavbar from'examples/Navbars/DashboardNavbar';import Footer from'examples/Footer';import DataTable from'examples/Tables/DataTable';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import Slide from'@mui/material/Slide';// Data\nimport axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Transition=/*#__PURE__*/React.forwardRef(function Transition(props,ref){return/*#__PURE__*/_jsx(Slide,_objectSpread({direction:\"up\",ref:ref},props));});function Alarm(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),render=_useState4[0],setRender=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),alarms=_useState6[0],setAlarms=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalPage=_useState8[0],setTotalPage=_useState8[1];var navigate=useNavigate();var changePage=function changePage(pageNum){console.log('change pages');console.log(pageNum);console.log(page);setPage(pageNum);handleGetAlarm(pageNum);};var handleGetAlarm=function handleGetAlarm(pageNum,event){console.log('handleGetAlarm');axios({url:'/api/v1/users/alarm?size=5&sort=id&page='+pageNum,method:'GET',headers:{Authorization:'Bearer '+localStorage.getItem('token')}}).then(function(res){console.log('success');console.log(res);setAlarms(res.data.result.content);setTotalPage(res.data.result.totalPages);}).catch(function(error){console.log(error);navigate('/authentication/sign-in');});};useEffect(function(){handleGetAlarm();},[]);return/*#__PURE__*/_jsxs(DashboardLayout,{children:[/*#__PURE__*/_jsx(MDBox,{pt:3,pb:3,children:alarms.map(function(alarm){return/*#__PURE__*/_jsx(MDBox,{pt:2,pb:2,px:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(MDBox,{pt:2,pb:2,px:3,children:/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(MDTypography,{fontWeight:\"bold\",variant:\"body2\",children:alarm.text})})})})})});})}),/*#__PURE__*/_jsxs(MDPagination,{children:[/*#__PURE__*/_jsx(MDPagination,{item:true,children:/*#__PURE__*/_jsx(KeyboardArrowLeftIcon,{})}),_toConsumableArray(Array(totalPage).keys()).map(function(i){return/*#__PURE__*/_jsx(MDPagination,{item:true,onClick:function onClick(){return changePage(i);},children:i+1});}),/*#__PURE__*/_jsx(MDPagination,{item:true,children:/*#__PURE__*/_jsx(KeyboardArrowRightIcon,{})})]})]});}export default Alarm;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Grid","Card","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","MDBox","MDTypography","MDInput","MDButton","MDPagination","DashboardLayout","DashboardNavbar","Footer","DataTable","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","axios","Transition","forwardRef","props","ref","Alarm","page","setPage","render","setRender","alarms","setAlarms","totalPage","setTotalPage","navigate","changePage","pageNum","console","log","handleGetAlarm","event","url","method","headers","Authorization","localStorage","getItem","then","res","data","result","content","totalPages","catch","error","map","alarm","text","Array","keys","i"],"sources":["C:/my/Spring/SNS/front-end/src/layouts/alarm/index.js"],"sourcesContent":["/**\r\n=========================================================\r\n* Material Dashboard 2 React - v2.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\r\n* Copyright 2022 Creative Tim (https://www.creative-tim.com)\r\n\r\nCoded by www.creative-tim.com\r\n\r\n =========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n*/\r\n\r\nimport * as React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router';\r\n\r\n// @mui material components\r\nimport Grid from '@mui/material/Grid';\r\nimport Card from '@mui/material/Card';\r\nimport KeyboardArrowLeftIcon from '@mui/icons-material/KeyboardArrowLeft';\r\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight';\r\n\r\n// Material Dashboard 2 React components\r\nimport MDBox from 'components/MDBox';\r\nimport MDTypography from 'components/MDTypography';\r\nimport MDInput from 'components/MDInput';\r\nimport MDButton from 'components/MDButton';\r\nimport MDPagination from 'components/MDPagination';\r\n\r\n// Material Dashboard 2 React example components\r\nimport DashboardLayout from 'examples/LayoutContainers/DashboardLayout';\r\nimport DashboardNavbar from 'examples/Navbars/DashboardNavbar';\r\nimport Footer from 'examples/Footer';\r\nimport DataTable from 'examples/Tables/DataTable';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Slide from '@mui/material/Slide';\r\n\r\n// Data\r\nimport axios from 'axios';\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n  props: TransitionProps & {\r\n    children: React.ReactElement<any, any>,\r\n  },\r\n  ref: React.Ref<unknown>,\r\n) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction Alarm() {\r\n  const [page, setPage] = useState(0);\r\n  const [render, setRender] = useState(false);\r\n  const [alarms, setAlarms] = useState([]);\r\n  const [totalPage, setTotalPage] = useState(0);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const changePage = (pageNum) => {\r\n    console.log('change pages');\r\n    console.log(pageNum);\r\n    console.log(page);\r\n    setPage(pageNum);\r\n    handleGetAlarm(pageNum);\r\n  };\r\n\r\n  const handleGetAlarm = (pageNum, event) => {\r\n    console.log('handleGetAlarm');\r\n    axios({\r\n      url: '/api/v1/users/alarm?size=5&sort=id&page=' + pageNum,\r\n      method: 'GET',\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('token'),\r\n      },\r\n    })\r\n      .then((res) => {\r\n        console.log('success');\r\n        console.log(res);\r\n        setAlarms(res.data.result.content);\r\n        setTotalPage(res.data.result.totalPages);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        navigate('/authentication/sign-in');\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleGetAlarm();\r\n  }, []);\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <MDBox pt={3} pb={3}>\r\n        {alarms.map((alarm) => (\r\n          <MDBox pt={2} pb={2} px={3}>\r\n            <Card>\r\n              <MDBox pt={2} pb={2} px={3}>\r\n                <Grid container>\r\n                  <Grid item xs={12}>\r\n                    <MDTypography fontWeight=\"bold\" variant=\"body2\">\r\n                      {alarm.text}\r\n                    </MDTypography>\r\n                  </Grid>\r\n                  </Grid>\r\n              </MDBox>\r\n            </Card>\r\n          </MDBox>\r\n        ))}\r\n      </MDBox>\r\n\r\n      <MDPagination>\r\n        <MDPagination item>\r\n          <KeyboardArrowLeftIcon></KeyboardArrowLeftIcon>\r\n        </MDPagination>\r\n        {[...Array(totalPage).keys()].map((i) => (\r\n          <MDPagination item onClick={() => changePage(i)}>\r\n            {i + 1}\r\n          </MDPagination>\r\n        ))}\r\n        <MDPagination item>\r\n          <KeyboardArrowRightIcon></KeyboardArrowRightIcon>\r\n        </MDPagination>\r\n      </MDPagination>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default Alarm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}